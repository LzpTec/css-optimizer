<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>CSS Optimizer by lastzero</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>CSS Optimizer</h1>
          <h2>Minifies stylesheets by removing duplicates and combining selectors</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/lastzero/css-optimizer/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/lastzero/css-optimizer/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/lastzero/css-optimizer" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p>This PHP library was developed as a "quick win" to optimize the CSS of an existing commercial Web site, as the stylesheets contained many duplicates and similar selectors created by a CSS precompiler. It was published in the hope to help others in the same situation.</p>

<p>The optimization is performed using simple (and fast) string functions - it's not a real CSS parser. It requires well formed CSS without inline comments (don't worry, you can use the minifyCss() method for that, see Usage).</p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<h3>
<a id="input" class="anchor" href="#input" aria-hidden="true"><span class="octicon octicon-link"></span></a>Input</h3>

<pre><code>body { foo:bar; too: me; } 
body { baz:foo; }
body { foo: new }
div.test { border: 1px solid black; }
div.other { border: 1px solid black}
</code></pre>

<h3>
<a id="output" class="anchor" href="#output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Output</h3>

<pre><code>body{baz:foo;foo:new;too:me}div.other,div.test{border:1px solid black}
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<pre><code>$optimizer = new \CssOptimizer\Css\Optimizer;

$inputCss = 'body { foo:bar; too: me;} body { baz:foo; } body { foo: new }
div.test { border: 1px solid black; }
div.other { border: 1px solid black} ';

$minifiedCss = $optimizer-&gt;minifyCss($inputCss);
$optimizedCss = $optimizer-&gt;optimizeCss($minifiedCss);

print_r($optimizer-&gt;getCounts());
</code></pre>

<h2>
<a id="assetic-filter" class="anchor" href="#assetic-filter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assetic filter</h2>

<p>This library comes with a ready-to-use Assetic filter (for Symfony2). Please use a pre-filter like CssMinFilter.</p>

<h3>
<a id="usage-1" class="anchor" href="#usage-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<pre><code>$filter = new \CssOptimizer\Assetic\Filter\CssOptimizeFilter;
$asset = new StringAsset($inputCss);
$asset-&gt;ensureFilter($filter);
$outputCss = $asset-&gt;dump();
</code></pre>

<h2>
<a id="warning" class="anchor" href="#warning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Warning</h2>

<p>The order of selectors in your CSS does play a role and the "further down" one does in fact win when the specificity values are exactly the same. If your CSS relies on order to work, this optimization will obviously break it. See also <a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets#Specificity">https://en.wikipedia.org/wiki/Cascading_Style_Sheets#Specificity</a></p>
        </section>

        <footer>
          CSS Optimizer is maintained by <a href="https://github.com/lastzero">lastzero</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
